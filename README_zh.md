## 免责声明

本仓库基于 Kerbl 等人在 SIGGRAPH 2023 提出的  
**3D Gaussian Splatting for Real-Time Radiance Field Rendering**
官方实现进行开发。

原始代码的版权归原作者所有。
本项目主要关注 **3DGS 在室内场景中的实际失败模式分析**
以及针对训练流程的工程性改进，
尤其是边界清晰度与背景稳定性问题。

官方仓库地址：
https://github.com/graphdeco-inria/gaussian-splatting

# 室内场景下 3D Gaussian Splatting 与 NeRF 的实验性研究记录

本仓库记录了我在学习、复现并实验 **3D Gaussian Splatting（3DGS）与 NeRF 系方法** 过程中，围绕室内场景重建所进行的一系列系统性尝试。

本项目的目标 **不是提出新的方法**，而是：

- 理解 3DGS 与 NeRF 在真实室内场景中的实际表现；
- 复现官方方法并验证其基线行为；
- 分析在仿真与真实数据中出现的失败模式；
- 探索若干工程层面的改动与增强手段；
- 明确哪些问题可以缓解，哪些问题仍然是方法本身的边界。

因此，本仓库应被视为一个 **实验性与工程性的技术记录项目**，而非一个完整、封闭的算法方案。

![assets/charts/customdata//comparison-0.png](assets/charts/customdata//comparison-0.png)
---

## 1. 项目范围说明

本项目包含以下几类实验与内容：

- 官方 3D Gaussian Splatting 的复现
- 仿真室内场景上的 3DGS 实验（失败案例）
- 自行拍摄的真实室内数据集实验（两版数据集）
- COLMAP / SfM 数据处理流程分析
- 对原始 3DGS 代码的多种修改与尝试
- diffusion / residual（DCM）作为**其中一条实验分支**
- 与 NeRF 系方法（Instant-NGP）的对比实验
- 对方法局限性与未来方向的总结

---

## 2. 官方 3DGS 基线复现

项目的第一步是对 **官方 3D Gaussian Splatting 实现** 进行复现，包括：

- 正确配置运行环境；
- 在官方示例数据集上训练与渲染；
- 对训练过程与结果进行验证。

该步骤的目的在于：

- 确认 pipeline 行为与官方一致；
- 为后续所有修改提供可靠的对照基线；
- 避免在错误实现基础上进行“无效优化”。

---

## 3. 自定义数据实验

### 3.1 仿真室内场景实验（失败案例）

最初尝试在仿真环境中生成室内场景数据，包括：

- 简单几何体与方块场景；
- 包含机器人模型与室内结构的场景；
- 可控相机轨迹与视角。

实验结果表明：

- 仿真场景中大量区域为纯色或弱纹理；
- COLMAP 难以提取稳定特征点；
- 相机位姿估计不稳定，SfM 质量较差；
- 3DGS 初始化与训练结果高度退化。

最终判断：**在当前仿真设置下，仿真数据不适合作为基于 SfM 的 3DGS 输入**，该方向被中止。

---

### 3.2 第一版真实数据集（效果较差）

随后转向真实室内环境，自行拍摄第一版数据集。

观察到的问题包括：

- 重建可以完成，但整体模糊；
- 大面积背景区域（墙面、地板）严重失真；
- 墙角、墙-地交界处边界不稳定；
- 视觉质量无法满足预期。

该数据集被完整保留，作为**失败案例**用于分析问题来源。

---

### 3.3 改进后的真实数据集

基于第一版失败经验，对拍摄策略进行了改进，包括：

- 增加视角变化与覆盖范围；
- 改善拍摄路径与角度分布；
- 减少曝光与模糊问题。

在改进后的数据集上：

- COLMAP 重建更加稳定；
- baseline 3DGS 能够可靠收敛；
- 但背景与边界问题仍然存在。

---

## 4. 数据处理流程分析

在实验过程中，重点关注并处理了以下数据相关问题：

- COLMAP 特征提取与匹配质量；
- 相机位姿与尺度一致性；
- 图像分辨率、裁剪与对齐；
- 训练 / 测试相机划分。

该过程强化了一个结论：  
**3DGS 并非端到端黑盒，其效果高度依赖于数据质量与 SfM 结果。**

---

## 5. 对原始 3DGS Pipeline 的修改尝试

在 baseline 基础上，进行了多种工程层面的修改与实验。

### 5.1 透明度 / Opacity 相关处理

尝试引入或调整与透明度相关的约束与损失项，以缓解：

- 背景区域高斯漂移；
- 纯色区域不稳定的问题。

结果显示：

- 背景稳定性有所提升；
- 但过强约束会导致整体细节损失。

---

### 5.2 Densification 与阈值调度实验

系统性测试了不同的：

- densification 阈值；
- pruning 策略；
- 早期与后期 densification 行为。

观察到的典型 trade-off 包括：

- 激进 densification → 边界更清晰，但噪声与伪影增多；
- 保守 densification → 画面更干净，但边界模糊。

---

### 5.3 边界与背景区域的定向处理

针对室内场景中的典型结构（墙角、平面交界）进行了实验性处理。

结果表明：

- 边界几何结构更清晰；
- 但会引入类似阴影的视觉伪影；
- 显示出 **几何约束与外观一致性之间的权衡关系**。

---

## 6. Diffusion / Residual（DCM）实验分支

作为一条实验性探索路线，引入了 **diffusion / residual-based 细节补全模型（DCM）**。

核心思路：

- 学习 3DGS 渲染结果与真实图像之间的 residual；
- 在 3DGS 训练阶段（train-time）注入该结构先验；
- 提供额外梯度以改善纯色与边界区域。

重要说明：

- 该模块 **不是后处理**；
- 属于训练阶段的辅助监督；
- 提升感知质量，但无法恢复真实纹理。

该分支被视为 **实验性增强手段之一，而非项目核心方法**。

---

## 7. 与 NeRF 系方法的对比实验（Instant-NGP）

在相同数据集上，对 3DGS 与 Instant-NGP 进行了对比。

主要观察包括：

- NeRF 更擅长连续纹理建模；
- 3DGS 在边界清晰度与实时性上具有优势；
- 重复、平坦纹理区域对两类方法均构成挑战。

该对比强调了 **表示方式层面的差异**，而非单纯效果优劣。

---

## 8. 关键结论与经验总结

通过完整实验流程，得到以下经验性结论：

- 边界约束可改善几何，但可能引入视觉伪影；
- diffusion 可提升感知质量，但不等价于真实结构；
- 纯色、重复平面纹理是 3DGS 的核心瓶颈之一；
- 多数问题无法仅通过参数调节彻底解决。

---

## 9. 局限性与未来方向

潜在的改进方向包括：

- 显式平面建模；
- 跨视角纹理一致性约束；
- GS–NeRF 混合表示；
- 结合更强几何先验的训练策略。

---

## 10. 硬件环境与实际限制

所有实验均在单台消费级设备上完成：

- GPU：NVIDIA RTX 4060（8GB 显存，Laptop）
- CPU：Intel i7 级别移动处理器
- 内存：32GB
- 操作系统：Ubuntu Linux

由于显存限制，多次实验采用了受限配置，例如：

```bash
python train_changed.py \
  --iterations 30000 \
  --densify_until_iter 7000 \
  --densify_grad_threshold 0.0008 \
  --densification_interval 200 \
  --data_device cpu
```
OOM 约束在一定程度上影响了模型规模与实验设计。

11. 说明

本仓库有意保留失败与不完美的实验结果。
理解方法的边界，被视为本项目的重要产出之一。
